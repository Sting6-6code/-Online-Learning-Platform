# GitHub Actions + SonarCloud è‡ªåŠ¨åŒ–é…ç½®å®Œæˆ

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. åˆ›å»ºäº† GitHub Actions Workflow

**æ–‡ä»¶**: `.github/workflows/sonarcloud.yml`

**åŠŸèƒ½**:
- âœ… è‡ªåŠ¨åˆ†æ Java é¡¹ç›®ï¼ˆåŒ…å«æµ‹è¯•å’Œä»£ç è¦†ç›–ç‡ï¼‰
- âœ… è‡ªåŠ¨åˆ†æ C++ é¡¹ç›®ï¼ˆé™æ€ä»£ç åˆ†æï¼‰
- âœ… æ¯æ¬¡ push åˆ° main/master åˆ†æ”¯æ—¶è§¦å‘
- âœ… æ¯æ¬¡åˆ›å»ºæˆ–æ›´æ–° Pull Request æ—¶è§¦å‘

---

## ğŸ”‘ é‡è¦ï¼šæ·»åŠ  GitHub Secret

### âš ï¸ å¿…é¡»å®Œæˆè¿™ä¸€æ­¥ï¼Œå¦åˆ™ workflow æ— æ³•è¿è¡Œï¼

**æ­¥éª¤**:

1. **æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®**:
   ```
   https://github.com/Sting6-6code/-Online-Learning-Platform/settings/secrets/actions
   ```

2. **ç‚¹å‡» "New repository secret" æŒ‰é’®**

3. **æ·»åŠ  Secret**:
   - **Name**: `SONAR_TOKEN`
   - **Value**: `352fc59b4650bca70ca4d2c8f273f5012948dcba`

4. **ç‚¹å‡» "Add secret"**

---

## ğŸ“¤ æäº¤å¹¶æ¨é€é…ç½®

ç°åœ¨éœ€è¦å°†é…ç½®æ–‡ä»¶æäº¤åˆ° GitHubï¼š

```bash
cd /Users/wangsiting/github_Siting/-Online-Learning-Platform

# æŸ¥çœ‹æ–°å¢çš„æ–‡ä»¶
git status

# æ·»åŠ æ–‡ä»¶
git add .github/workflows/sonarcloud.yml
git add GITHUB_ACTIONS_SETUP.md

# æäº¤
git commit -m "Add SonarCloud GitHub Actions integration for Java and C++ projects"

# æ¨é€åˆ° GitHub
git push
```

---

## ğŸ¯ æ¨é€åä¼šå‘ç”Ÿä»€ä¹ˆ

1. **GitHub Actions è‡ªåŠ¨å¯åŠ¨**
   - è¿è¡Œ Java é¡¹ç›®çš„æµ‹è¯•å’Œåˆ†æ
   - è¿è¡Œ C++ é¡¹ç›®çš„ä»£ç åˆ†æ
   - ä¸Šä¼ ç»“æœåˆ° SonarCloud

2. **æŸ¥çœ‹æ‰§è¡ŒçŠ¶æ€**
   - è®¿é—®: https://github.com/Sting6-6code/-Online-Learning-Platform/actions
   - æŸ¥çœ‹æœ€æ–°çš„ workflow è¿è¡Œæƒ…å†µ

3. **æŸ¥çœ‹åˆ†æç»“æœ**
   - Java é¡¹ç›®: https://sonarcloud.io/project/overview?id=Sting6-6code_-Online-Learning-Platform
   - C++ é¡¹ç›®: https://sonarcloud.io/project/overview?id=Sting6-6code_Online_platform_C-

---

## ğŸ”„ åç»­ä½¿ç”¨

### è‡ªåŠ¨åˆ†æï¼ˆæ— éœ€æ‰‹åŠ¨æ“ä½œï¼‰

ä»¥åæ¯æ¬¡ä¿®æ”¹ä»£ç ï¼š

```bash
git add .
git commit -m "Your changes"
git push
```

GitHub Actions ä¼šè‡ªåŠ¨ï¼š
1. âœ… ç¼–è¯‘ä»£ç 
2. âœ… è¿è¡Œæ‰€æœ‰æµ‹è¯•
3. âœ… ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
4. âœ… åˆ†æä»£ç è´¨é‡
5. âœ… ä¸Šä¼ åˆ° SonarCloud

### æŸ¥çœ‹ç»“æœ

- **GitHub**: åœ¨ Actions æ ‡ç­¾é¡µæŸ¥çœ‹æ‰§è¡Œæ—¥å¿—
- **SonarCloud**: æŸ¥çœ‹è¯¦ç»†çš„ä»£ç è´¨é‡æŠ¥å‘Š

---

## ğŸ“Š Workflow æ‰§è¡Œæµç¨‹

```
æ¨é€ä»£ç åˆ° GitHub
    â†“
GitHub Actions è‡ªåŠ¨è§¦å‘
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Checkout ä»£ç    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Setup JDK 11    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Build Java é¡¹ç›®  â”‚
â”‚   - è¿è¡Œæµ‹è¯•         â”‚
â”‚   - ç”Ÿæˆè¦†ç›–ç‡      â”‚
â”‚   - SonarQube åˆ†æ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. å®‰è£… sonar-scan  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. åˆ†æ C++ é¡¹ç›®    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. ä¸Šä¼ åˆ° SonarCloudâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ Workflow é…ç½®è¯´æ˜

### Java é¡¹ç›®åˆ†æ

- **å·¥å…·**: Maven + SonarQube Scanner
- **åŒ…å«**: æµ‹è¯•æ‰§è¡Œ + JaCoCo è¦†ç›–ç‡
- **é…ç½®**: ä½¿ç”¨ `pom.xml` ä¸­çš„é…ç½®

### C++ é¡¹ç›®åˆ†æ

- **å·¥å…·**: sonar-scanner CLI
- **åŒ…å«**: é™æ€ä»£ç åˆ†æ
- **æ’é™¤**: æµ‹è¯•æ–‡ä»¶å’Œç¼–è¯‘äº§ç‰©

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1: Workflow å¤±è´¥ - "Error: Could not find SONAR_TOKEN"

**è§£å†³**: ç¡®ä¿åœ¨ GitHub æ·»åŠ äº† `SONAR_TOKEN` Secretï¼ˆè§ä¸Šæ–¹æ­¥éª¤ï¼‰

### é—®é¢˜ 2: Java æµ‹è¯•å¤±è´¥

**è§£å†³**: 
```bash
# æœ¬åœ°æµ‹è¯•
cd Java_online_platform
mvn clean test
```

### é—®é¢˜ 3: C++ åˆ†æå¤±è´¥

**è§£å†³**: æ£€æŸ¥ C++ ä»£ç ç›®å½•ç»“æ„æ˜¯å¦æ­£ç¡®

---

## ğŸ“ˆ ç›‘æ§å’Œä¼˜åŒ–

### æŸ¥çœ‹ Workflow æ‰§è¡Œæ—¶é—´

é€šå¸¸æ‰§è¡Œæ—¶é—´ï¼š
- Java é¡¹ç›®: 2-5 åˆ†é’Ÿ
- C++ é¡¹ç›®: 1-2 åˆ†é’Ÿ
- **æ€»è®¡**: çº¦ 3-7 åˆ†é’Ÿ

### ä¼˜åŒ–å»ºè®®

1. **Maven ä¾èµ–ç¼“å­˜**: å·²é…ç½®ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦
2. **å¹¶è¡Œæ‰§è¡Œ**: å¯ä»¥å°† Java å’Œ C++ åˆ†æåˆ†æˆä¸¤ä¸ª jobs å¹¶è¡Œè¿è¡Œ

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨æ‚¨æœ‰äº†ä¸€ä¸ªå®Œå…¨è‡ªåŠ¨åŒ–çš„ä»£ç è´¨é‡æ£€æµ‹æµç¨‹ï¼

**ä¸‹ä¸€æ­¥**:
1. âœ… æ·»åŠ  GitHub Secret (SONAR_TOKEN)
2. âœ… æäº¤å¹¶æ¨é€é…ç½®æ–‡ä»¶
3. âœ… æŸ¥çœ‹ GitHub Actions æ‰§è¡Œ
4. âœ… æŸ¥çœ‹ SonarCloud åˆ†æç»“æœ

ç¥æ‚¨çš„ä»£ç è´¨é‡è¶Šæ¥è¶Šå¥½ï¼ğŸš€

